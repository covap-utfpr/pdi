<!DOCTYPE html>
<html lang="pt-BR" xml:lang="pt-BR">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.3 Transformada de Hough | Material introdutório de Processamento Digital de Imagens e Visão Computacional</title>
  <meta name="description" content="6.3 Transformada de Hough | Material introdutório de Processamento Digital de Imagens e Visão Computacional" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="6.3 Transformada de Hough | Material introdutório de Processamento Digital de Imagens e Visão Computacional" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.3 Transformada de Hough | Material introdutório de Processamento Digital de Imagens e Visão Computacional" />
  
  
  

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="detecção-de-bordas.html"/>
<link rel="next" href="detecção-de-quinas.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="logo"><a href="./"><img src="imagens/logo.jpeg"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Início</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introdução</a><ul>
<li class="chapter" data-level="1.1" data-path="relação-de-processamento-digital-de-imagem-visão-computacional-e-computação-gráfica.html"><a href="relação-de-processamento-digital-de-imagem-visão-computacional-e-computação-gráfica.html"><i class="fa fa-check"></i><b>1.1</b> Relação de Processamento Digital de Imagem, Visão Computacional e Computação Gráfica</a></li>
<li class="chapter" data-level="1.2" data-path="aplicações-processamento-digital-de-imagens.html"><a href="aplicações-processamento-digital-de-imagens.html"><i class="fa fa-check"></i><b>1.2</b> Aplicações Processamento Digital de Imagens</a></li>
<li class="chapter" data-level="1.3" data-path="etapas-do-processamento-e-análise-de-imagens.html"><a href="etapas-do-processamento-e-análise-de-imagens.html"><i class="fa fa-check"></i><b>1.3</b> Etapas do Processamento e Análise de Imagens</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="formação-da-imagem.html"><a href="formação-da-imagem.html"><i class="fa fa-check"></i><b>2</b> Formação da imagem</a><ul>
<li class="chapter" data-level="2.1" data-path="câmera-pinhole-e-geometria.html"><a href="câmera-pinhole-e-geometria.html"><i class="fa fa-check"></i><b>2.1</b> Câmera pinhole e geometria</a></li>
<li class="chapter" data-level="2.2" data-path="lentes.html"><a href="lentes.html"><i class="fa fa-check"></i><b>2.2</b> Lentes</a></li>
<li class="chapter" data-level="2.3" data-path="sensor.html"><a href="sensor.html"><i class="fa fa-check"></i><b>2.3</b> Sensor</a></li>
<li class="chapter" data-level="2.4" data-path="amostragem-e-quantização.html"><a href="amostragem-e-quantização.html"><i class="fa fa-check"></i><b>2.4</b> Amostragem e Quantização</a><ul>
<li class="chapter" data-level="2.4.1" data-path="amostragem-e-quantização.html"><a href="amostragem-e-quantização.html#amostragem"><i class="fa fa-check"></i><b>2.4.1</b> Amostragem</a></li>
<li class="chapter" data-level="2.4.2" data-path="amostragem-e-quantização.html"><a href="amostragem-e-quantização.html#quantização"><i class="fa fa-check"></i><b>2.4.2</b> Quantização</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="definição-de-imagem-digital.html"><a href="definição-de-imagem-digital.html"><i class="fa fa-check"></i><b>2.5</b> Definição de imagem digital</a></li>
<li class="chapter" data-level="2.6" data-path="resolução-espacial-e-de-intensidade.html"><a href="resolução-espacial-e-de-intensidade.html"><i class="fa fa-check"></i><b>2.6</b> Resolução espacial e de intensidade</a></li>
<li class="chapter" data-level="2.7" data-path="pixels.html"><a href="pixels.html"><i class="fa fa-check"></i><b>2.7</b> Pixels</a><ul>
<li class="chapter" data-level="2.7.1" data-path="pixels.html"><a href="pixels.html#vizinhança"><i class="fa fa-check"></i><b>2.7.1</b> Vizinhança</a></li>
<li class="chapter" data-level="2.7.2" data-path="pixels.html"><a href="pixels.html#conectividade"><i class="fa fa-check"></i><b>2.7.2</b> Conectividade</a></li>
<li class="chapter" data-level="2.7.3" data-path="pixels.html"><a href="pixels.html#adjacência"><i class="fa fa-check"></i><b>2.7.3</b> Adjacência</a></li>
<li class="chapter" data-level="2.7.4" data-path="pixels.html"><a href="pixels.html#componente-conexa"><i class="fa fa-check"></i><b>2.7.4</b> Componente Conexa</a></li>
<li class="chapter" data-level="2.7.5" data-path="pixels.html"><a href="pixels.html#medidas-de-distância"><i class="fa fa-check"></i><b>2.7.5</b> Medidas de Distância</a></li>
<li class="chapter" data-level="2.7.6" data-path="pixels.html"><a href="pixels.html#operações-lógico-aritméticas"><i class="fa fa-check"></i><b>2.7.6</b> Operações Lógico-aritméticas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="transformacões-geométricas.html"><a href="transformacões-geométricas.html"><i class="fa fa-check"></i><b>3</b> Transformacões geométricas</a><ul>
<li class="chapter" data-level="3.1" data-path="definição.html"><a href="definição.html"><i class="fa fa-check"></i><b>3.1</b> Definição</a></li>
<li class="chapter" data-level="3.2" data-path="sistema-de-coordenadas-objetos-2d-e-3d.html"><a href="sistema-de-coordenadas-objetos-2d-e-3d.html"><i class="fa fa-check"></i><b>3.2</b> Sistema de coordenadas objetos (2D e 3D)</a></li>
<li class="chapter" data-level="3.3" data-path="representação-vetorial-e-matricial-de-imagens-digitalizadas.html"><a href="representação-vetorial-e-matricial-de-imagens-digitalizadas.html"><i class="fa fa-check"></i><b>3.3</b> Representação Vetorial e Matricial de Imagens digitalizadas</a></li>
<li class="chapter" data-level="3.4" data-path="matrizes-em-computação-gráfica.html"><a href="matrizes-em-computação-gráfica.html"><i class="fa fa-check"></i><b>3.4</b> Matrizes em Computação gráfica</a></li>
<li class="chapter" data-level="3.5" data-path="transformações-em-pontos-e-objetos.html"><a href="transformações-em-pontos-e-objetos.html"><i class="fa fa-check"></i><b>3.5</b> Transformações em Pontos e Objetos</a></li>
<li class="chapter" data-level="3.6" data-path="transformação-de-translação.html"><a href="transformação-de-translação.html"><i class="fa fa-check"></i><b>3.6</b> Transformação de Translação</a></li>
<li class="chapter" data-level="3.7" data-path="transformação-de-escala.html"><a href="transformação-de-escala.html"><i class="fa fa-check"></i><b>3.7</b> Transformação de Escala</a></li>
<li class="chapter" data-level="3.8" data-path="transformação-de-rotação.html"><a href="transformação-de-rotação.html"><i class="fa fa-check"></i><b>3.8</b> Transformação de Rotação</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transformações-radiométricas.html"><a href="transformações-radiométricas.html"><i class="fa fa-check"></i><b>4</b> Transformações radiométricas</a><ul>
<li class="chapter" data-level="4.1" data-path="transformação-linear.html"><a href="transformação-linear.html"><i class="fa fa-check"></i><b>4.1</b> Transformação Linear</a></li>
<li class="chapter" data-level="4.2" data-path="transformação-logarítmica.html"><a href="transformação-logarítmica.html"><i class="fa fa-check"></i><b>4.2</b> Transformação Logarítmica</a></li>
<li class="chapter" data-level="4.3" data-path="transformação-de-potência.html"><a href="transformação-de-potência.html"><i class="fa fa-check"></i><b>4.3</b> Transformação de Potência</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="filtros.html"><a href="filtros.html"><i class="fa fa-check"></i><b>5</b> Filtros</a><ul>
<li class="chapter" data-level="5.1" data-path="convolução.html"><a href="convolução.html"><i class="fa fa-check"></i><b>5.1</b> Convolução</a><ul>
<li class="chapter" data-level="5.1.1" data-path="convolução.html"><a href="convolução.html#definção-matemática-de-convolução"><i class="fa fa-check"></i><b>5.1.1</b> Definção matemática de convolução</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="média.html"><a href="média.html"><i class="fa fa-check"></i><b>5.2</b> Média</a></li>
<li class="chapter" data-level="5.3" data-path="mediana.html"><a href="mediana.html"><i class="fa fa-check"></i><b>5.3</b> Mediana</a></li>
<li class="chapter" data-level="5.4" data-path="gaussiano.html"><a href="gaussiano.html"><i class="fa fa-check"></i><b>5.4</b> Gaussiano</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="segmentação.html"><a href="segmentação.html"><i class="fa fa-check"></i><b>6</b> Segmentação</a><ul>
<li class="chapter" data-level="6.1" data-path="detecção-por-descontinuidade.html"><a href="detecção-por-descontinuidade.html"><i class="fa fa-check"></i><b>6.1</b> Detecção por descontinuidade</a><ul>
<li class="chapter" data-level="6.1.1" data-path="detecção-por-descontinuidade.html"><a href="detecção-por-descontinuidade.html#detecção-de-pontos-isolados"><i class="fa fa-check"></i><b>6.1.1</b> Detecção de pontos isolados</a></li>
<li class="chapter" data-level="6.1.2" data-path="detecção-por-descontinuidade.html"><a href="detecção-por-descontinuidade.html#detecção-de-linhas"><i class="fa fa-check"></i><b>6.1.2</b> Detecção de linhas</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html"><i class="fa fa-check"></i><b>6.2</b> Detecção de Bordas</a><ul>
<li class="chapter" data-level="6.2.1" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#modelos-de-bordas"><i class="fa fa-check"></i><b>6.2.1</b> Modelos de Bordas</a></li>
<li class="chapter" data-level="6.2.2" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#método-do-gradiente-roberts-prewitt-sobel"><i class="fa fa-check"></i><b>6.2.2</b> Método do gradiente ( Roberts, Prewitt, Sobel)</a></li>
<li class="chapter" data-level="6.2.3" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#método-de-marr-hildreth"><i class="fa fa-check"></i><b>6.2.3</b> Método de Marr-Hildreth</a></li>
<li class="chapter" data-level="6.2.4" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#método-de-canny"><i class="fa fa-check"></i><b>6.2.4</b> Método de Canny</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="transformada-de-hough.html"><a href="transformada-de-hough.html"><i class="fa fa-check"></i><b>6.3</b> Transformada de Hough</a><ul>
<li class="chapter" data-level="6.3.1" data-path="transformada-de-hough.html"><a href="transformada-de-hough.html#transformada-de-hough-para-detecção-de-linhas"><i class="fa fa-check"></i><b>6.3.1</b> Transformada de Hough para detecção de linhas</a></li>
<li class="chapter" data-level="6.3.2" data-path="transformada-de-hough.html"><a href="transformada-de-hough.html#transformada-de-hough-para-detecção-de-círculos"><i class="fa fa-check"></i><b>6.3.2</b> Transformada de Hough para detecção de círculos</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="detecção-de-quinas.html"><a href="detecção-de-quinas.html"><i class="fa fa-check"></i><b>6.4</b> Detecção de Quinas</a><ul>
<li class="chapter" data-level="6.4.1" data-path="detecção-de-quinas.html"><a href="detecção-de-quinas.html#detector-de-quinas-de-moravec"><i class="fa fa-check"></i><b>6.4.1</b> Detector de Quinas de Moravec</a></li>
<li class="chapter" data-level="6.4.2" data-path="detecção-de-quinas.html"><a href="detecção-de-quinas.html#detector-de-quinas-de-harris"><i class="fa fa-check"></i><b>6.4.2</b> Detector de Quinas de Harris</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html"><i class="fa fa-check"></i><b>6.5</b> Detecção de Blobs</a><ul>
<li class="chapter" data-level="6.5.1" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html#log"><i class="fa fa-check"></i><b>6.5.1</b> LoG</a></li>
<li class="chapter" data-level="6.5.2" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html#dog"><i class="fa fa-check"></i><b>6.5.2</b> DoG</a></li>
<li class="chapter" data-level="6.5.3" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html#doh"><i class="fa fa-check"></i><b>6.5.3</b> DoH</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="limiarização.html"><a href="limiarização.html"><i class="fa fa-check"></i><b>6.6</b> Limiarização</a><ul>
<li class="chapter" data-level="6.6.1" data-path="limiarização.html"><a href="limiarização.html#limiarização-global-simples"><i class="fa fa-check"></i><b>6.6.1</b> Limiarização global simples</a></li>
<li class="chapter" data-level="6.6.2" data-path="limiarização.html"><a href="limiarização.html#limiarização-pelo-método-de-otsu"><i class="fa fa-check"></i><b>6.6.2</b> Limiarização pelo Método de Otsu</a></li>
<li class="chapter" data-level="6.6.3" data-path="limiarização.html"><a href="limiarização.html#uso-de-suavização-para-limiarização"><i class="fa fa-check"></i><b>6.6.3</b> Uso de suavização para limiarização</a></li>
<li class="chapter" data-level="6.6.4" data-path="limiarização.html"><a href="limiarização.html#uso-de-bordas-para-limiarização"><i class="fa fa-check"></i><b>6.6.4</b> Uso de bordas para limiarização</a></li>
<li class="chapter" data-level="6.6.5" data-path="limiarização.html"><a href="limiarização.html#limiares-múltiplos"><i class="fa fa-check"></i><b>6.6.5</b> Limiares Múltiplos</a></li>
<li class="chapter" data-level="6.6.6" data-path="limiarização.html"><a href="limiarização.html#limiarização-variável"><i class="fa fa-check"></i><b>6.6.6</b> Limiarização variável</a></li>
<li class="chapter" data-level="6.6.7" data-path="limiarização.html"><a href="limiarização.html#particionamento-da-imagem"><i class="fa fa-check"></i><b>6.6.7</b> Particionamento da imagem</a></li>
<li class="chapter" data-level="6.6.8" data-path="limiarização.html"><a href="limiarização.html#limiarização-variável-baseada-nas-propriedades-locais-da-imagem"><i class="fa fa-check"></i><b>6.6.8</b> Limiarização variável baseada nas propriedades locais da imagem</a></li>
<li class="chapter" data-level="6.6.9" data-path="limiarização.html"><a href="limiarização.html#usando-média-de-movimento"><i class="fa fa-check"></i><b>6.6.9</b> Usando média de movimento</a></li>
<li class="chapter" data-level="6.6.10" data-path="limiarização.html"><a href="limiarização.html#limiarização-baseada-em-diversas-variáveis"><i class="fa fa-check"></i><b>6.6.10</b> Limiarização baseada em diversas variáveis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="refêrencias.html"><a href="refêrencias.html"><i class="fa fa-check"></i>Refêrencias</a></li>
<li class="divider"></li>
<li><center>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
</a></li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Material introdutório de Processamento Digital de Imagens e Visão Computacional</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="transformada-de-hough" class="section level2">
<h2><span class="header-section-number">6.3</span> Transformada de Hough</h2>
<p>A Transformada de Hough é uma técnica utilizada para detectar formas em imagens, sejam elas linhas, círculos ou elipses. Apesar de ela ser muito utilizada e ter sido criada para detecção principalmente de linhas, ela pode ser usada para a detecção de outras formas, como dito anteriormente.</p>
<div id="transformada-de-hough-para-detecção-de-linhas" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Transformada de Hough para detecção de linhas</h3>
<p>Para começar a entender essa transformada, imaginemos que temos um ponto <span class="math inline">\((x_i, y_i)\)</span> no plano <span class="math inline">\(xy\)</span> e a equação da reta <span class="math inline">\(y_i=ax_i+b\)</span>. Pelo ponto <span class="math inline">\((x_i, y_i)\)</span> passam infinitas retas e todas satisfazem a equação. Podemos escrever a equação anterior em relação a <span class="math inline">\(b\)</span>, ou seja, <span class="math inline">\(b=-x_ia+y_i\)</span>, o que nos leva ao plano <span class="math inline">\(ab\)</span>(espaço de parâmetros) onde essa nova equação gerará uma única reta.</p>
<p>Agora imaginemos um outro ponto <span class="math inline">\((x_j, y_j)\)</span> no plano <span class="math inline">\(xy\)</span>, podemos também levá-lo ao plano ab com a equação <span class="math inline">\(b=-x_ja+y_j\)</span>. Como podemos ver na figura <a href="transformada-de-hough.html#fig:planoxy">6.19</a>(b) as duas retas geradas no plano <span class="math inline">\(ab\)</span> se cruzam nas coordenadas <span class="math inline">\((a&#39;, b&#39;)\)</span>, e esse ponto de cruzamento representa a reta que cruza os dois pontos no plano <span class="math inline">\(xy\)</span>, como podemos ver na mesma representação <a href="transformada-de-hough.html#fig:planoxy">6.19</a>(b). Na realidade, todos os pontos pertencentes a reta definida por esses dois pontos em <span class="math inline">\(xy\)</span> tem sua reta respectiva em <span class="math inline">\(ab\)</span> e todas elas se cruzam no ponto <span class="math inline">\((a&#39;, b&#39;)\)</span>, isso nos dá uma maneira de realizar a detecção de bordas, pois podemos imaginar essa reta como nossa borda, assim, para achá-la basta localizar o ponto no espaço de parâmetros onde um grande número de retas se cruzam.</p>

<div class="figure" style="text-align: center"><span id="fig:planoxy"></span>
<img src="imagens/06-segmentacao/planoxy.png" alt="Plano xy e ab. [2, p. 483]" width="65%" />
<p class="caption">
Figura 6.19: Plano xy e ab. <span class="citation">[<a href="#ref-gonzalez2010" role="doc-biblioref">2</a>, p. 483]</span>
</p>
</div>
<p>Ocorre um pequeno problema nessa forma, pois quando a reta se aproxima da direção vertical, <span class="math inline">\(ab\)</span> se aproxima do infinito. Para resolver essa dificuldade, em vez de levarmos os pontos a retas no espaço <span class="math inline">\(ab\)</span> cartesiano utilizamos um espaço em coordenadas polares. Para isso utilizamos a seguinte equação:
<span class="math display">\[\rho=x\cos{\theta}+y\ sen{\ \theta}\]</span>
Na figura <a href="transformada-de-hough.html#fig:planoxyrhotheta">6.20</a>(a) podemos ver isso de maneira gráfica, temos que p corresponde à distância da origem até a reta. Cada uma das curvas senoidais da figura <a href="transformada-de-hough.html#fig:planoxyrhotheta">6.20</a>(b) representa um conjunto de linhas que cruzam os dois pontos da figura <a href="transformada-de-hough.html#fig:planoxyrhotheta">6.20</a>(a), sendo que na interseção das curvas temos a reta que cruza esses pontos.</p>

<div class="figure" style="text-align: center"><span id="fig:planoxyrhotheta"></span>
<img src="imagens/06-segmentacao/planoxyrhotheta.png" alt="Imagem de ônibus com filtro de aguçamento e de suavização [8, p. 98]" width="90%" />
<p class="caption">
Figura 6.20: Imagem de ônibus com filtro de aguçamento e de suavização <span class="citation">[<a href="#ref-burger2009" role="doc-biblioref">8</a>, p. 98]</span>
</p>
</div>
<p>A figura <a href="transformada-de-hough.html#fig:planoxyrhotheta">6.20</a>(c) mostra como fazemos a representação do espaço , usamos uma matriz onde esse espaço é subdividido em várias células, chamadas células acumuladoras. Os valores de <span class="math inline">\(\theta_{\text{min}}\)</span> e <span class="math inline">\(\theta_{\text{max}}\)</span> são geralmente <span class="math inline">\(-90^{\circ}\leq \theta\leq90^{\circ}\)</span> e os valores de <span class="math inline">\(\rho_min\)</span> e <span class="math inline">\(\rho_max\)</span> são <span class="math inline">\(-D\leq\rho\leq D\)</span>, onde <span class="math inline">\(D\)</span> é o comprimento da diagonal da imagem, ou seja, <span class="math inline">\(D=\sqrt{vertical^2+horizontal^2}\)</span>. O que fazemos então é andar por todos os pontos de borda da imagem de entrada e calcular o valor de a partir da equação apresentada anteriormente usando o valor de <span class="math inline">\((x,y)\)</span> e variando o ângulo , com isso a cada valor do ângulo teremos um diferente e somamos mais um na célula correspondente da matriz acumuladora, que inicialmente é toda preenchida com zeros. Ao final de todo o processo termos determinadas células com valores mais altos, essas são conhecidas como picos e correspondem ao cruzamento de duas ou mais curvas senoidais do plano o que corresponde a uma linha ligando pontos no plano <span class="math inline">\(xy\)</span>.</p>
<p>A seguir temos um exemplo, que nos ajuda a entender e ver na prática o funcionamento da transformada de Hough. A figura <a href="transformada-de-hough.html#fig:houghumponto">6.21</a>(a) contém uma imagem de tamanho 101x101 com um ponto no centro, ou seja <span class="math inline">\((x,y)=(50,50)\)</span> e a figura <a href="transformada-de-hough.html#fig:houghumponto">6.21</a>(b) contém a matriz acumuladora da transformada, onde podemos ver a curva senóide formada pelo ponto. Verificando os valores nela vemos que para <span class="math inline">\(\rho=-90^{\circ}\)</span> temos:</p>
<p><span class="math display">\[\rho=50 \cdot \cos(-90^{\circ})+50\cdot\text{sen}(-90^{\circ}) = -50\]</span>
para <span class="math inline">\(\theta=90^{\circ}\)</span> temos:</p>
<p><span class="math display">\[\rho=50\cdot \cos(90^{\circ})+50\cdot\text{sen}(90^{\circ})=50\]</span>
para <span class="math inline">\(\theta=45^{\circ}\)</span> temos:</p>
<p><span class="math display">\[\rho=50\cdot \cos(45^{\circ})+50\cdot \text{sen}(45^{\circ})\approx70,71\]</span>
e para <span class="math inline">\(\theta=-45^{\circ}\)</span> temos:</p>
<p><span class="math display">\[\rho=50\cdot\cos(-45º)+50\cdot \text{sen}(-45º)=0\]</span></p>

<div class="figure" style="text-align: center"><span id="fig:houghumponto"></span>
<img src="imagens/06-segmentacao/hough_um_ponto.jpg" alt="Transformada de Hough para um ponto." width="75%" />
<p class="caption">
Figura 6.21: Transformada de Hough para um ponto.
</p>
</div>
<p>Na figura <a href="transformada-de-hough.html#fig:houghdoispontosesquerda">6.22</a>(a) temos dois pontos, a e b, onde foi realizada a transformada de Hough que tem como espaço de saída a figura <a href="transformada-de-hough.html#fig:houghdoispontosesquerda">6.22</a>(b). A reta que passa por esses dois pontos, chamada de reta c é representada por uma reta pontilhada na figura <a href="transformada-de-hough.html#fig:houghdoispontosesquerda">6.22</a>(a) e na figura <a href="transformada-de-hough.html#fig:houghdoispontosesquerda">6.22</a>(b) temos o ponto no plano que representa essa reta, ou seja, uma reta a uma distância <span class="math inline">\(\rho\approx70,71\)</span> da origem com ângulo de <span class="math inline">\(45^{\circ}\)</span>.</p>

<div class="figure" style="text-align: center"><span id="fig:houghdoispontosesquerda"></span>
<img src="imagens/06-segmentacao/hough_dois_ponto_esquerda.png" alt="Transformada de Hough para um ponto em 45º." width="75%" />
<p class="caption">
Figura 6.22: Transformada de Hough para um ponto em 45º.
</p>
</div>
<p>Na figura <a href="transformada-de-hough.html#fig:houghdoispontosdireita">6.23</a>(a) temos mais um exemplo, desta vez com um ponto localizado a sua direita, diferentemente da anterior, esses dois pontos formam uma reta de <span class="math inline">\(-45^{\circ}\)</span>, fato que pode ser visto na figura <a href="transformada-de-hough.html#fig:houghdoispontosdireita">6.23</a>(b) onde o ponto de encontro das duas curvas acontece em <span class="math inline">\(\theta=-45^{\circ}\)</span> com um valor de <span class="math inline">\(\rho=0\)</span> já que a reta cruza a origem, ou seja, não possui distância em relação a ela.</p>

<div class="figure" style="text-align: center"><span id="fig:houghdoispontosdireita"></span>
<img src="imagens/06-segmentacao/hough_dois_ponto_direita.png" alt="Transformada de Hough para um ponto em -45º." width="75%" />
<p class="caption">
Figura 6.23: Transformada de Hough para um ponto em -45º.
</p>
</div>
<p>Nosso último exemplo contém uma imagem com três pontos, onde temos três tipos de retas possíveis. Observando a figura <a href="transformada-de-hough.html#fig:houghtrespontos">6.24</a>(a) podemos ver os pontos a, b e c e as retas que passam por eles d, e e f, e na figura <a href="transformada-de-hough.html#fig:houghtrespontos">6.24</a>(b) temos a transformada de Hough para esse imagem, algo interessante de se notar é o fato de a reta que passa pelos pontos b e c ser detectada duas vezes, isso se deve a uma característica da transformada de Hough chamada relação de adjacência reflexiva, ou seja, isso acontece como resultado pela maneira como <span class="math inline">\(\rho\)</span> e <span class="math inline">\(\theta\)</span> mudam de sinal quando chegamos as extremidades de <span class="math inline">\(\pm90^{\circ}\)</span>.</p>

<div class="figure" style="text-align: center"><span id="fig:houghtrespontos"></span>
<img src="imagens/06-segmentacao/hough_tres_ponto.png" alt="Transformada de Hough para três pontos." width="75%" />
<p class="caption">
Figura 6.24: Transformada de Hough para três pontos.
</p>
</div>
<p>Na figura <a href="transformada-de-hough.html#fig:houghlineexemplo">6.25</a> temos nosso último exemplo na detecção de linhas, dessa vez realizado em uma imagem real, neste caso primeiramente foi realizado a detecção de bordas pelo método de Canny, como pode ser visto na figura <a href="transformada-de-hough.html#fig:houghlineexemplo">6.25</a>(a). Logo após foi realizada a transformação de Hough, com resultado em figura <a href="transformada-de-hough.html#fig:houghlineexemplo">6.25</a>(b) e por fim temos a imagem original com as linhas detectadas em figura <a href="transformada-de-hough.html#fig:houghlineexemplo">6.25</a>(c). Atenção ao fato de que nem todos os picos da transformada podem ser utilizados como linhas, pois teríamos um número enorme delas, para isso utilizamos um threshold, utilizando somente as linhas que tiverem o número de votos(acumulação na matriz) superior a um valor limítrofe.</p>

<div class="figure" style="text-align: center"><span id="fig:houghlineexemplo"></span>
<img src="imagens/06-segmentacao/hough_line_exemplo.jpg" alt="Resultado da transformada de Hough usada na detecção de linhas em uma imagem." width="95%" />
<p class="caption">
Figura 6.25: Resultado da transformada de Hough usada na detecção de linhas em uma imagem.
</p>
</div>
</div>
<div id="transformada-de-hough-para-detecção-de-círculos" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Transformada de Hough para detecção de círculos</h3>
<p>A transformada de Hough pode ser estendida para detecção de círculos, para isso substituímos a equação da reta pela equação do círculo:
<span class="math display">\[(x-x_0)^2+(y-y_0)^2=r^2\]</span></p>
<p>Nesse caso também andamos por cada pixel das bordas da imagem e o levamos ao espaço de parâmetro com as seguintes equações:</p>
<p><span class="math display">\[x_0=x-r\cos(\theta)\]</span>
e</p>
<p><span class="math display">\[y_0=y-\text{sen}(\theta)\]</span></p>
<p>A diferença é que neste caso o nosso espaço de parâmetro terá três dimensões, isso decorre do fato de que como desenhamos um círculo para cada pixel do círculo da imagem, a variação do diâmetro desse círculo deve levar a uma variação dos círculos descritos no espaço de parâmetros, então além da variação dos valores de <span class="math inline">\(x\)</span> e <span class="math inline">\(y\)</span> também devemos variar os valores de <span class="math inline">\(r\)</span>. Uma representação disso pode ser vista na figura <a href="transformada-de-hough.html#fig:houghCircle">6.26</a>(a) onde temos três pixels que definem um círculo, na figura <a href="transformada-de-hough.html#fig:houghCircle">6.26</a>(b) temos os círculos no espaço de parâmetros e na figura <a href="transformada-de-hough.html#fig:houghCircle">6.26</a>(c) podemos ver um representação de um espaço de parâmetros com diferentes raios.</p>

<div class="figure" style="text-align: center"><span id="fig:houghCircle"></span>
<img src="imagens/06-segmentacao/houghCircle.png" alt="Transformada de Hough para círculos.[19, p. 255]" width="60%" />
<p class="caption">
Figura 6.26: Transformada de Hough para círculos.<span class="citation">[<a href="#ref-nixon2019feature" role="doc-biblioref">19</a>, p. 255]</span>
</p>
</div>
<p>A figura <a href="transformada-de-hough.html#fig:moedas">6.27</a> contém uma imagem com algumas moedas, na figura <a href="transformada-de-hough.html#fig:houghcircleraios">6.28</a>(a) temos as bordas da imagem detectada com o método de Canny, logo após, na figura <a href="transformada-de-hough.html#fig:houghcircleraios">6.28</a>(b) - (f) temos a representação do espaço de Hough para diferentes valores de raio. E na figura <a href="transformada-de-hough.html#fig:houghcircleresultado">6.29</a> temos o resultado da detecção de círculo após encontrados os picos do espaço de parâmetros.</p>

<div class="figure" style="text-align: center"><span id="fig:moedas"></span>
<img src="imagens/06-segmentacao/moedas.jpg" alt="Imagem original de moedas. [8, p. 98]" width="55%" />
<p class="caption">
Figura 6.27: Imagem original de moedas. <span class="citation">[<a href="#ref-burger2009" role="doc-biblioref">8</a>, p. 98]</span>
</p>
</div>

<div class="figure" style="text-align: center"><span id="fig:houghcircleraios"></span>
<img src="imagens/06-segmentacao/hough_circle_raios.jpg" alt="Canny e espaço de parâmetros. [8, p. 98]" width="100%" />
<p class="caption">
Figura 6.28: Canny e espaço de parâmetros. <span class="citation">[<a href="#ref-burger2009" role="doc-biblioref">8</a>, p. 98]</span>
</p>
</div>

<div class="figure" style="text-align: center"><span id="fig:houghcircleresultado"></span>
<img src="imagens/06-segmentacao/hough_circle_resultado.jpg" alt="Resultado final da transformada de Hough para círculos. [8, p. 98]" width="55%" />
<p class="caption">
Figura 6.29: Resultado final da transformada de Hough para círculos. <span class="citation">[<a href="#ref-burger2009" role="doc-biblioref">8</a>, p. 98]</span>
</p>
</div>
</div>
</div>
<h3>Refêrencias</h3>
<div id="refs" class="references">
<div id="ref-gonzalez2010">
<p>[2] R. C. Gonzalez e R. C. Woods, <em>Processamento digital de imagens</em>, 3º ed. São Paulo: Pearson Prentice Hall, 2010.</p>
</div>
<div id="ref-burger2009">
<p>[8] W. Burger, M. J. Burge, M. J. Burge, e M. J. Burge, <em>Principles of digital image processing</em>, vol. 111. Springer, 2009.</p>
</div>
<div id="ref-nixon2019feature">
<p>[19] M. Nixon e A. Aguado, <em>Feature extraction and image processing for computer vision</em>. Academic press, 2019.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="detecção-de-bordas.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="detecção-de-quinas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": null
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/covap-utfpr/pdi/edit/master/06-segmentacao.Rmd",
"text": "Editar "
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"citation_package": "biblatex"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
