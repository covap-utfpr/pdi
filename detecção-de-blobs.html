<!DOCTYPE html>
<html lang="pt-BR" xml:lang="pt-BR">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.5 Detecção de Blobs | Material introdutório de Processamento Digital de Imagens e Visão Computacional</title>
  <meta name="description" content="6.5 Detecção de Blobs | Material introdutório de Processamento Digital de Imagens e Visão Computacional" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="6.5 Detecção de Blobs | Material introdutório de Processamento Digital de Imagens e Visão Computacional" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.5 Detecção de Blobs | Material introdutório de Processamento Digital de Imagens e Visão Computacional" />
  
  
  

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="detecção-de-quinas.html"/>
<link rel="next" href="limiarização.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="logo"><a href="./"><img src="imagens/logo.jpeg"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Início</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introdução</a><ul>
<li class="chapter" data-level="1.1" data-path="relação-de-processamento-digital-de-imagem-visão-computacional-e-computação-gráfica.html"><a href="relação-de-processamento-digital-de-imagem-visão-computacional-e-computação-gráfica.html"><i class="fa fa-check"></i><b>1.1</b> Relação de Processamento Digital de Imagem, Visão Computacional e Computação Gráfica</a></li>
<li class="chapter" data-level="1.2" data-path="aplicações-processamento-digital-de-imagens.html"><a href="aplicações-processamento-digital-de-imagens.html"><i class="fa fa-check"></i><b>1.2</b> Aplicações Processamento Digital de Imagens</a></li>
<li class="chapter" data-level="1.3" data-path="etapas-do-processamento-e-análise-de-imagens.html"><a href="etapas-do-processamento-e-análise-de-imagens.html"><i class="fa fa-check"></i><b>1.3</b> Etapas do Processamento e Análise de Imagens</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="formação-da-imagem.html"><a href="formação-da-imagem.html"><i class="fa fa-check"></i><b>2</b> Formação da imagem</a><ul>
<li class="chapter" data-level="2.1" data-path="câmera-pinhole-e-geometria.html"><a href="câmera-pinhole-e-geometria.html"><i class="fa fa-check"></i><b>2.1</b> Câmera pinhole e geometria</a></li>
<li class="chapter" data-level="2.2" data-path="lentes.html"><a href="lentes.html"><i class="fa fa-check"></i><b>2.2</b> Lentes</a></li>
<li class="chapter" data-level="2.3" data-path="sensor.html"><a href="sensor.html"><i class="fa fa-check"></i><b>2.3</b> Sensor</a></li>
<li class="chapter" data-level="2.4" data-path="amostragem-e-quantização.html"><a href="amostragem-e-quantização.html"><i class="fa fa-check"></i><b>2.4</b> Amostragem e Quantização</a><ul>
<li class="chapter" data-level="2.4.1" data-path="amostragem-e-quantização.html"><a href="amostragem-e-quantização.html#amostragem"><i class="fa fa-check"></i><b>2.4.1</b> Amostragem</a></li>
<li class="chapter" data-level="2.4.2" data-path="amostragem-e-quantização.html"><a href="amostragem-e-quantização.html#quantização"><i class="fa fa-check"></i><b>2.4.2</b> Quantização</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="definição-de-imagem-digital.html"><a href="definição-de-imagem-digital.html"><i class="fa fa-check"></i><b>2.5</b> Definição de imagem digital</a></li>
<li class="chapter" data-level="2.6" data-path="resolução-espacial-e-de-intensidade.html"><a href="resolução-espacial-e-de-intensidade.html"><i class="fa fa-check"></i><b>2.6</b> Resolução espacial e de intensidade</a></li>
<li class="chapter" data-level="2.7" data-path="pixels.html"><a href="pixels.html"><i class="fa fa-check"></i><b>2.7</b> Pixels</a><ul>
<li class="chapter" data-level="2.7.1" data-path="pixels.html"><a href="pixels.html#vizinhança"><i class="fa fa-check"></i><b>2.7.1</b> Vizinhança</a></li>
<li class="chapter" data-level="2.7.2" data-path="pixels.html"><a href="pixels.html#conectividade"><i class="fa fa-check"></i><b>2.7.2</b> Conectividade</a></li>
<li class="chapter" data-level="2.7.3" data-path="pixels.html"><a href="pixels.html#adjacência"><i class="fa fa-check"></i><b>2.7.3</b> Adjacência</a></li>
<li class="chapter" data-level="2.7.4" data-path="pixels.html"><a href="pixels.html#componente-conexa"><i class="fa fa-check"></i><b>2.7.4</b> Componente Conexa</a></li>
<li class="chapter" data-level="2.7.5" data-path="pixels.html"><a href="pixels.html#medidas-de-distância"><i class="fa fa-check"></i><b>2.7.5</b> Medidas de Distância</a></li>
<li class="chapter" data-level="2.7.6" data-path="pixels.html"><a href="pixels.html#operações-lógico-aritméticas"><i class="fa fa-check"></i><b>2.7.6</b> Operações Lógico-aritméticas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="transformacões-geométricas.html"><a href="transformacões-geométricas.html"><i class="fa fa-check"></i><b>3</b> Transformacões geométricas</a><ul>
<li class="chapter" data-level="3.1" data-path="definição.html"><a href="definição.html"><i class="fa fa-check"></i><b>3.1</b> Definição</a></li>
<li class="chapter" data-level="3.2" data-path="sistema-de-coordenadas-objetos-2d-e-3d.html"><a href="sistema-de-coordenadas-objetos-2d-e-3d.html"><i class="fa fa-check"></i><b>3.2</b> Sistema de coordenadas objetos (2D e 3D)</a></li>
<li class="chapter" data-level="3.3" data-path="representação-vetorial-e-matricial-de-imagens-digitalizadas.html"><a href="representação-vetorial-e-matricial-de-imagens-digitalizadas.html"><i class="fa fa-check"></i><b>3.3</b> Representação Vetorial e Matricial de Imagens digitalizadas</a></li>
<li class="chapter" data-level="3.4" data-path="matrizes-em-computação-gráfica.html"><a href="matrizes-em-computação-gráfica.html"><i class="fa fa-check"></i><b>3.4</b> Matrizes em Computação gráfica</a></li>
<li class="chapter" data-level="3.5" data-path="transformações-em-pontos-e-objetos.html"><a href="transformações-em-pontos-e-objetos.html"><i class="fa fa-check"></i><b>3.5</b> Transformações em Pontos e Objetos</a></li>
<li class="chapter" data-level="3.6" data-path="transformação-de-translação.html"><a href="transformação-de-translação.html"><i class="fa fa-check"></i><b>3.6</b> Transformação de Translação</a></li>
<li class="chapter" data-level="3.7" data-path="transformação-de-escala.html"><a href="transformação-de-escala.html"><i class="fa fa-check"></i><b>3.7</b> Transformação de Escala</a></li>
<li class="chapter" data-level="3.8" data-path="transformação-de-rotação.html"><a href="transformação-de-rotação.html"><i class="fa fa-check"></i><b>3.8</b> Transformação de Rotação</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transformações-radiométricas.html"><a href="transformações-radiométricas.html"><i class="fa fa-check"></i><b>4</b> Transformações radiométricas</a><ul>
<li class="chapter" data-level="4.1" data-path="transformação-linear.html"><a href="transformação-linear.html"><i class="fa fa-check"></i><b>4.1</b> Transformação Linear</a></li>
<li class="chapter" data-level="4.2" data-path="transformação-logarítmica.html"><a href="transformação-logarítmica.html"><i class="fa fa-check"></i><b>4.2</b> Transformação Logarítmica</a></li>
<li class="chapter" data-level="4.3" data-path="transformação-de-potência.html"><a href="transformação-de-potência.html"><i class="fa fa-check"></i><b>4.3</b> Transformação de Potência</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="filtros.html"><a href="filtros.html"><i class="fa fa-check"></i><b>5</b> Filtros</a><ul>
<li class="chapter" data-level="5.1" data-path="convolução.html"><a href="convolução.html"><i class="fa fa-check"></i><b>5.1</b> Convolução</a><ul>
<li class="chapter" data-level="5.1.1" data-path="convolução.html"><a href="convolução.html#definção-matemática-de-convolução"><i class="fa fa-check"></i><b>5.1.1</b> Definção matemática de convolução</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="média.html"><a href="média.html"><i class="fa fa-check"></i><b>5.2</b> Média</a></li>
<li class="chapter" data-level="5.3" data-path="mediana.html"><a href="mediana.html"><i class="fa fa-check"></i><b>5.3</b> Mediana</a></li>
<li class="chapter" data-level="5.4" data-path="gaussiano.html"><a href="gaussiano.html"><i class="fa fa-check"></i><b>5.4</b> Gaussiano</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="segmentação.html"><a href="segmentação.html"><i class="fa fa-check"></i><b>6</b> Segmentação</a><ul>
<li class="chapter" data-level="6.1" data-path="detecção-por-descontinuidade.html"><a href="detecção-por-descontinuidade.html"><i class="fa fa-check"></i><b>6.1</b> Detecção por descontinuidade</a><ul>
<li class="chapter" data-level="6.1.1" data-path="detecção-por-descontinuidade.html"><a href="detecção-por-descontinuidade.html#detecção-de-pontos-isolados"><i class="fa fa-check"></i><b>6.1.1</b> Detecção de pontos isolados</a></li>
<li class="chapter" data-level="6.1.2" data-path="detecção-por-descontinuidade.html"><a href="detecção-por-descontinuidade.html#detecção-de-linhas"><i class="fa fa-check"></i><b>6.1.2</b> Detecção de linhas</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html"><i class="fa fa-check"></i><b>6.2</b> Detecção de Bordas</a><ul>
<li class="chapter" data-level="6.2.1" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#modelos-de-bordas"><i class="fa fa-check"></i><b>6.2.1</b> Modelos de Bordas</a></li>
<li class="chapter" data-level="6.2.2" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#método-do-gradiente-roberts-prewitt-sobel"><i class="fa fa-check"></i><b>6.2.2</b> Método do gradiente ( Roberts, Prewitt, Sobel)</a></li>
<li class="chapter" data-level="6.2.3" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#método-de-marr-hildreth"><i class="fa fa-check"></i><b>6.2.3</b> Método de Marr-Hildreth</a></li>
<li class="chapter" data-level="6.2.4" data-path="detecção-de-bordas.html"><a href="detecção-de-bordas.html#método-de-canny"><i class="fa fa-check"></i><b>6.2.4</b> Método de Canny</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="transformada-de-hough.html"><a href="transformada-de-hough.html"><i class="fa fa-check"></i><b>6.3</b> Transformada de Hough</a><ul>
<li class="chapter" data-level="6.3.1" data-path="transformada-de-hough.html"><a href="transformada-de-hough.html#transformada-de-hough-para-detecção-de-linhas"><i class="fa fa-check"></i><b>6.3.1</b> Transformada de Hough para detecção de linhas</a></li>
<li class="chapter" data-level="6.3.2" data-path="transformada-de-hough.html"><a href="transformada-de-hough.html#transformada-de-hough-para-detecção-de-círculos"><i class="fa fa-check"></i><b>6.3.2</b> Transformada de Hough para detecção de círculos</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="detecção-de-quinas.html"><a href="detecção-de-quinas.html"><i class="fa fa-check"></i><b>6.4</b> Detecção de Quinas</a><ul>
<li class="chapter" data-level="6.4.1" data-path="detecção-de-quinas.html"><a href="detecção-de-quinas.html#detector-de-quinas-de-moravec"><i class="fa fa-check"></i><b>6.4.1</b> Detector de Quinas de Moravec</a></li>
<li class="chapter" data-level="6.4.2" data-path="detecção-de-quinas.html"><a href="detecção-de-quinas.html#detector-de-quinas-de-harris"><i class="fa fa-check"></i><b>6.4.2</b> Detector de Quinas de Harris</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html"><i class="fa fa-check"></i><b>6.5</b> Detecção de Blobs</a><ul>
<li class="chapter" data-level="6.5.1" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html#log"><i class="fa fa-check"></i><b>6.5.1</b> LoG</a></li>
<li class="chapter" data-level="6.5.2" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html#dog"><i class="fa fa-check"></i><b>6.5.2</b> DoG</a></li>
<li class="chapter" data-level="6.5.3" data-path="detecção-de-blobs.html"><a href="detecção-de-blobs.html#doh"><i class="fa fa-check"></i><b>6.5.3</b> DoH</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="limiarização.html"><a href="limiarização.html"><i class="fa fa-check"></i><b>6.6</b> Limiarização</a><ul>
<li class="chapter" data-level="6.6.1" data-path="limiarização.html"><a href="limiarização.html#limiarização-global-simples"><i class="fa fa-check"></i><b>6.6.1</b> Limiarização global simples</a></li>
<li class="chapter" data-level="6.6.2" data-path="limiarização.html"><a href="limiarização.html#limiarização-pelo-método-de-otsu"><i class="fa fa-check"></i><b>6.6.2</b> Limiarização pelo Método de Otsu</a></li>
<li class="chapter" data-level="6.6.3" data-path="limiarização.html"><a href="limiarização.html#uso-de-suavização-para-limiarização"><i class="fa fa-check"></i><b>6.6.3</b> Uso de suavização para limiarização</a></li>
<li class="chapter" data-level="6.6.4" data-path="limiarização.html"><a href="limiarização.html#uso-de-bordas-para-limiarização"><i class="fa fa-check"></i><b>6.6.4</b> Uso de bordas para limiarização</a></li>
<li class="chapter" data-level="6.6.5" data-path="limiarização.html"><a href="limiarização.html#limiares-múltiplos"><i class="fa fa-check"></i><b>6.6.5</b> Limiares Múltiplos</a></li>
<li class="chapter" data-level="6.6.6" data-path="limiarização.html"><a href="limiarização.html#limiarização-variável"><i class="fa fa-check"></i><b>6.6.6</b> Limiarização variável</a></li>
<li class="chapter" data-level="6.6.7" data-path="limiarização.html"><a href="limiarização.html#particionamento-da-imagem"><i class="fa fa-check"></i><b>6.6.7</b> Particionamento da imagem</a></li>
<li class="chapter" data-level="6.6.8" data-path="limiarização.html"><a href="limiarização.html#limiarização-variável-baseada-nas-propriedades-locais-da-imagem"><i class="fa fa-check"></i><b>6.6.8</b> Limiarização variável baseada nas propriedades locais da imagem</a></li>
<li class="chapter" data-level="6.6.9" data-path="limiarização.html"><a href="limiarização.html#usando-média-de-movimento"><i class="fa fa-check"></i><b>6.6.9</b> Usando média de movimento</a></li>
<li class="chapter" data-level="6.6.10" data-path="limiarização.html"><a href="limiarização.html#limiarização-baseada-em-diversas-variáveis"><i class="fa fa-check"></i><b>6.6.10</b> Limiarização baseada em diversas variáveis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="refêrencias.html"><a href="refêrencias.html"><i class="fa fa-check"></i>Refêrencias</a></li>
<li class="divider"></li>
<li><center>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
</a></li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Material introdutório de Processamento Digital de Imagens e Visão Computacional</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="detecção-de-blobs" class="section level2">
<h2><span class="header-section-number">6.5</span> Detecção de Blobs</h2>
<p>Blobs, do inglês bolhas, são regiões da imagem em que os pixels têm valores aproximadamente iguais. Uma boa representação - um tanto quanto artificial - disso é a função gaussiana, como pode ser vista na figura <a href="detecção-de-blobs.html#fig:gaussianblob">6.31</a>(a) e sua representação 2D na figura <a href="detecção-de-blobs.html#fig:gaussianblob">6.31</a>(b), nela temos um conjunto de pixels com valores bem próximos, que caracterizam um blob.</p>

<div class="figure" style="text-align: center"><span id="fig:gaussianblob"></span>
<img src="imagens/06-segmentacao/gaussian_blob.jpg" alt="Função gaussiana em 3D e 2D." width="75%" />
<p class="caption">
Figura 6.31: Função gaussiana em 3D e 2D.
</p>
</div>
<p>Apesar do exemplo, a detecção de blobs não se restringe a elementos circulares, mas a qualquer conjunto de pixels.</p>
<div id="log" class="section level3">
<h3><span class="header-section-number">6.5.1</span> LoG</h3>
<p>Esse método utiliza o do Laplaciano do Gaussiano, que já foi apresentado anteriormente, mas que em resumo é o cálculo de derivadas segunda em uma imagem que foi anteriormente convolucionada com um filtro gaussiano, isso irá gerar fortes respostas positivas em blobs escuros e negativas em blobs escuros nos blobs de tamanho <span class="math inline">\(\sqrt{2\sigma}\)</span>. Como existe uma relação entre a respostas e o tamanho do desvio padrão, é necessário realizar a operação com uma gama de valores para o sigma, e assim detectar blobs de diferentes tamanhos.</p>

<div class="figure" style="text-align: center"><span id="fig:nasahubbledeep"></span>
<img src="imagens/06-segmentacao/nasa_hubble_deep.jpg" alt="Imagem de Campo Ultraprofundo do Hubble. [20]" width="55%" />
<p class="caption">
Figura 6.32: Imagem de Campo Ultraprofundo do Hubble. <span class="citation">[<a href="#ref-img:hubbledeep" role="doc-biblioref">20</a>]</span>
</p>
</div>
<p>Como podemos ver na figura <a href="detecção-de-blobs.html#fig:gaussianblob">6.31</a> com diferentes valores de sigma conseguimos detectar objetos de variados tamanhos, como exemplo na figura <a href="detecção-de-blobs.html#fig:logsigmas">6.33</a>(a) detectamos as estrelas da figura <a href="detecção-de-blobs.html#fig:nasahubbledeep">6.32</a> que apresentam uma menor resposta ao filtro laplaciano.</p>

<div class="figure" style="text-align: center"><span id="fig:logsigmas"></span>
<img src="imagens/06-segmentacao/log_sigmas.jpg" alt="Laplaciano do Gaussiano com diferentes valores de sigma." width="100%" />
<p class="caption">
Figura 6.33: Laplaciano do Gaussiano com diferentes valores de sigma.
</p>
</div>
<p>Na figura <a href="detecção-de-blobs.html#fig:loghubble">6.34</a> temos o resultado da detecção dos blobs utilizando LoG. Note que nem todas as estrelas foram detectadas, isso se deve ao fato do uso de um valor de threshold, onde definimos que queremos as detecções acima de determinado limiar. Na figura <a href="detecção-de-blobs.html#fig:loghubblebaixo">6.35</a> podemos ver o resultado utilizando um valor de limiar menor, onde muito mais objetos foram localizados.</p>

<div class="figure" style="text-align: center"><span id="fig:loghubble"></span>
<img src="imagens/06-segmentacao/log_hubble.jpg" alt="Resultado da detecção de blobs com LoG." width="55%" />
<p class="caption">
Figura 6.34: Resultado da detecção de blobs com LoG.
</p>
</div>

<div class="figure" style="text-align: center"><span id="fig:loghubblebaixo"></span>
<img src="imagens/06-segmentacao/log_hubble_baixo_threshold.jpg" alt="Resultado da detecção de blobs com LoG com um threshold menor." width="55%" />
<p class="caption">
Figura 6.35: Resultado da detecção de blobs com LoG com um threshold menor.
</p>
</div>
</div>
<div id="dog" class="section level3">
<h3><span class="header-section-number">6.5.2</span> DoG</h3>
<p>Esse método é basicamente o mesmo do anterior, mas possui uma certa vantagem, que é o fato de ele ser mais eficiente. Como também já foi mencionado no tópico na seção anterior é possível aproximar o Laplaciano do Gaussiano através da Diferença do Gaussiano(DoG), ou seja, primeiramente se realiza a filtragem gaussiano com dois sigmas diferentes e se faz a subtração entre os dois. Realizamos esse processo para diferentes pares de valores, obtendo assim o mesmo espaço de escala construído com o processo do LoG. Na figura <a href="detecção-de-blobs.html#fig:doghubble">6.36</a> temos um exemplo de detecção por DoG.</p>

<div class="figure" style="text-align: center"><span id="fig:doghubble"></span>
<img src="imagens/06-segmentacao/dog_hubble.jpg" alt="Resultado da detecção de blobs com DoG." width="55%" />
<p class="caption">
Figura 6.36: Resultado da detecção de blobs com DoG.
</p>
</div>
</div>
<div id="doh" class="section level3">
<h3><span class="header-section-number">6.5.3</span> DoH</h3>
<p>Uma matriz Hessiana é uma matriz que contém as derivadas de uma função. No nosso caso, utilizamos a Hessiana de ordem 2, pois estamos trabalhando com imagens, que possuem duas dimensões. Ela pode ser representada da seguinte maneira:</p>
<p><span class="math display">\[H[f(x_1, x_2, \dots,x_n)]=
\begin{bmatrix}
\frac{\partial^2 f}{\partial x_1^2} &amp; \frac{\partial^2 f}{\partial x_1 \partial x_2}\\ 
\frac{\partial^2 f}{\partial x_2 \partial x_1} &amp; \frac{\partial^2 f}{\partial x_2^2}
\end{bmatrix}\]</span></p>
<p>A matriz Hessiana tem muita utilidade pois com ela podemos descrever a curvatura em um ponto da função multivariável, o que no nosso caso pode ajudar a detectar os blobs, já que eles são aglomerados de pixels e devem estar separados do restante da imagem, ou seja, um aglomerado claro em um fundo escuro ou o contrário, e isso irá fazer com que sua função tenha uma mudança de sinal que pode ser detectada utilizando-se as informações da matriz. Além disso, como dito por Herbert Bay et al.<span class="citation">[<a href="#ref-bay2006surf" role="doc-biblioref">21</a>]</span> os detectores baseados na Hessiana são mais estáveis e repetíveis(tem a mesma resposta para a mesma imagem com diferentes ângulos, iluminações etc.).</p>
<p>Um dos principais algoritmos que fazem uso dessa matriz se chama Speeded Up Robust Features (SURF)<span class="citation">[<a href="#ref-bay2006surf" role="doc-biblioref">21</a>]</span>, esse método faz uso de várias técnicas que o tornam muito rápido, como seu próprio nome sugere. Uma dessas técnicas é o cálculo da integral da imagem, realizado a partir da soma de todos os pixels de uma área retangular a partir do x atual, sendo que este varia enquanto se é andado pela imagem.</p>

<div class="figure" style="text-align: center"><span id="fig:imageIntegral"></span>
<img src="imagens/06-segmentacao/imageIntegral.png" alt="Integral de uma imagem. [22]" width="55%" />
<p class="caption">
Figura 6.37: Integral de uma imagem. <span class="citation">[<a href="#ref-Cen2016StudyOV" role="doc-biblioref">22</a>]</span>
</p>
</div>
<p>Como pode ser visto na figura, a integral de uma imagem contém a soma das regiões, por exemplo, a primeira posição contém a soma de somente uma célula, no caso 1, a segunda tem a soma de duas células, na primeira linha estamos basicamente somando as células de uma só linha, na segunda começamos a formar regiões retangulares, por exemplo, na segunda linha e terceira coluna temos o valor 6, resultante da soma das seis células da primeira linha com a segunda. Com a integral podemos calcular a área de qualquer região com apenas quatro operações, da seguinte forma:
<span class="math display">\[soma = D+A-B-C\]</span></p>
<p>Onde {A,B,C,D} forma uma região. Como exemplo, caso queiramos calcular a área na região quadrada 2x2 na direita inferior utilizados:
<span class="math display">\[soma = 9 + 1 - 3 - 3 = 4\]</span></p>
<p>Isso nos ajuda na aplicação de box filters, já que precisaríamos da soma de determinadas áreas, e com isso aumentamos a velocidade do método.
Sendo <span class="math inline">\(X=(x,y)\)</span> um ponto em uma imagem, sua matriz Hessiana em <span class="math inline">\(X\)</span> a uma escala é dada por:</p>
<p><span class="math display">\[H(X,\sigma)=\begin{bmatrix}
L_{xx}(X, \sigma) &amp; L_{xy}(X, \sigma)\\ 
L_{xy}(X, \sigma) &amp; L_{yy}(X, \sigma)
\end{bmatrix}\]</span></p>
<p>Onde <span class="math inline">\(L_{xx}(X, \sigma)\)</span> é a convolução da imagem no ponto X com a derivada de segunda ordem gaussiana <span class="math inline">\(\frac{\partial^2g(\sigma)}{\partial x^²}\)</span> e assim por diante<span class="citation">[<a href="#ref-bay2006surf" role="doc-biblioref">21</a>]</span>. Aqui entra em cena mais um elemento para melhorar a velocidade do algoritmo, Bay, Herbert et al. utilizam box filters para aproximar o filtro gaussiano. Como podemos ver na figura, onde os dois primeiros filtros são os derivativos gaussianos discretizados e os dois últimos são os aproximados a partir de box filters.</p>

<div class="figure" style="text-align: center"><span id="fig:discretizadogaussiano"></span>
<img src="imagens/06-segmentacao/discretizadogaussiano.png" alt="Filtro gaussiano discretizado e aproximado na direção \(y\) e \(xy\). [21]" width="85%" />
<p class="caption">
Figura 6.38: Filtro gaussiano discretizado e aproximado na direção <span class="math inline">\(y\)</span> e <span class="math inline">\(xy\)</span>. <span class="citation">[<a href="#ref-bay2006surf" role="doc-biblioref">21</a>]</span>
</p>
</div>
<p>Chamamos as derivadas realizadas na imagem de <span class="math inline">\(D_{xx}\)</span>, <span class="math inline">\(D_{yy}\)</span>, <span class="math inline">\(D_{xy}\)</span>. Essas derivadas não são realizadas com somente um valor de <span class="math inline">\(\sigma\)</span>, mas como os detectores anteriores usam uma sequência de valores para assim criar um espaço de escalas e conseguir detectar blobs de diferentes tamanhos. Assim, a determinante da Hessiana é dado por:</p>
<p><span class="math display">\[det(H_{\text{aprox}}) = D_{xx}D_{yy}-(0.9D_{xy})^2\]</span></p>
<p>Sendo que o valor <span class="math inline">\(0.9\)</span> é um peso introduzido pelos autores Bay, Hebert et al. para corrigir as respostas quando utilizamos várias escalas de sigma e obter uma invariância escalar. Na figura temos o resultado de uma detecção de blobs realizada pela Determinante do Hessiano.</p>

<div class="figure" style="text-align: center"><span id="fig:dohhubble"></span>
<img src="imagens/06-segmentacao/doh_hubble.jpg" alt="Resultado da detecção de blobs com DoH." width="55%" />
<p class="caption">
Figura 6.39: Resultado da detecção de blobs com DoH.
</p>
</div>
</div>
</div>
<h3>Refêrencias</h3>
<div id="refs" class="references">
<div id="ref-img:hubbledeep">
<p>[20] Nasa, “Hubble Ultra-Deep Field”. 2004, [Online]. Disponível em: <a href="https://imgsrc.hubblesite.org/hu/db/images/hs-2014-27-a-full_jpg.jpg">https://imgsrc.hubblesite.org/hu/db/images/hs-2014-27-a-full_jpg.jpg</a>.</p>
</div>
<div id="ref-bay2006surf">
<p>[21] H. Bay, T. Tuytelaars, e L. Van Gool, “Surf: Speeded up robust features”, p. 404–417, 2006.</p>
</div>
<div id="ref-Cen2016StudyOV">
<p>[22] K. Cen, “Study of Viola-Jones Real Time Face Detector”, 2016.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="detecção-de-quinas.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="limiarização.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": null
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/covap-utfpr/pdi/edit/master/06-segmentacao.Rmd",
"text": "Editar "
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"citation_package": "biblatex"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
